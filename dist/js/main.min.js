!function t(e,n,a){function o(r,s){if(!n[r]){if(!e[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(i)return i(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[r]={exports:{}};e[r][0].call(u.exports,(function(t){return o(e[r][1][t]||t)}),u,u.exports,t,e,n,a)}return n[r].exports}for(var i="function"==typeof require&&require,r=0;r<a.length;r++)o(a[r]);return o}({1:[function(t,e,n){"use strict";function a(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,"clearImageMap",(function(){n.canvasContext.clearRect(0,0,n.canvas.width,n.canvas.height)})),o(this,"drawPolygon",(function(t){var e=t.split(","),a=e.map((function(t){return Number(t)+3})),o=e.length;n.canvasContext.save(),n.canvasContext.beginPath(),n.canvasContext.moveTo(a[0],a[1]);for(var i=0;i<o;i++)i%2==0&&i>1&&n.canvasContext.lineTo(a[i],a[i+1]);n.canvasContext.closePath(),n.canvasContext.stroke(),n.canvasContext.fill(),n.canvasContext.restore()})),o(this,"drawCircle",(function(t){var e=t.split(",");n.canvasContext.save(),n.canvasContext.beginPath(),n.canvasContext.arc(e[0],e[1],e[2],0,2*Math.PI),n.canvasContext.closePath(),n.canvasContext.stroke(),n.canvasContext.fill(),n.canvasContext.restore()})),o(this,"setSizeImageMapCanvas",(function(){var t=n.canvas.clientWidth,e=n.canvas.clientHeight;n.canvas.setAttribute("width",t),n.canvas.setAttribute("height",e)})),this.selector=document.querySelector(e),this.selector&&(this.map=this.selector.querySelector("map"),this.canvas=this.selector.querySelector("canvas"),this.canvasContext=this.canvas.getContext("2d"),this.mapImage=this.selector.querySelector("img"),this.imageUrl=this.mapImage.getAttribute("src")),this.canvas&&this.init()}var e,n,i;return e=t,(n=[{key:"init",value:function(){var t=this;imageMapResize(),this.canvas.style.backgroundImage="url('".concat(this.imageUrl,"')"),this.canvas.classList.add("background-added"),this.setSizeImageMapCanvas(),window.addEventListener("resize",(function(){t.clearImageMap(),t.setSizeImageMapCanvas()})),this.registerEvents()}},{key:"registerEvents",value:function(){var t=this;Array.from(this.map.querySelectorAll("area")).forEach((function(e){e.addEventListener("mouseover",(function(){var n=e.getAttribute("coords"),a=e.getAttribute("shape");"poly"===a&&(t.canvasContext.strokeStyle="#e8de8b",t.canvasContext.fillStyle="rgba(7, 65, 76,.25)",t.canvasContext.lineWidth=5,t.drawPolygon(n)),"circle"===a&&(t.canvasContext.strokeStyle="rgba(7, 65, 76, 1)",t.canvasContext.fillStyle="rgba(7, 65, 76, .35)",t.canvasContext.lineWidth=3,t.drawCircle(n))})),e.addEventListener("mouseout",(function(){t.clearImageMap()}))}))}},{key:"customLabel",value:function(){var t=this;this.selector&&Array.from(this.map.querySelectorAll("area")).forEach((function(e){var n;e.addEventListener("click",(function(t){t.preventDefault()})),e.addEventListener("mouseenter",(function(a){(n=document.createElement("div")).classList.add("info-marker"),n.innerHTML='<div class="img"><img src="'.concat(e.getAttribute("href"),'" /></div><div class="text">').concat(e.getAttribute("title"),"</div>"),t.canvas.getBoundingClientRect().top;var o=e.getAttribute("coords").split(","),i=Number(o[2]),r=Number(o[1]),s=Number(o[0]);s-.95*i+50<=Number(window.innerWidth-450-60)?n.setAttribute("style","\n\t\t\t\t\t\t\tmargin-left: 25px;\n\t\t\t\t\t\t\ttransform-origin: 0 0;\n\t\t\t\t\t\t\ttop: ".concat(r-i+t.selector.offsetTop,"px;\n\t\t\t\t\t\t\tleft: ").concat(s,"px;\n\t\t\t\t\t\t")):n.setAttribute("style","\n\t\t\t\t\t\t\tmargin-right: 25px;\n\t\t\t\t\t\t\ttransform-origin: 100% 0;\n\t\t\t\t\t\t\ttop: ".concat(r-i+t.selector.offsetTop,"px;\n\t\t\t\t\t\t\tright: ").concat(t.canvas.clientWidth-s,"px;\n\t\t\t\t\t\t")),document.querySelector("body").parentNode.append(n),setTimeout((function(){n.classList.add("active")}),150)})),e.addEventListener("mouseout",(function(t){n.parentNode.removeChild(n),n.classList.remove("active")}))}))}}])&&a(e.prototype,n),i&&a(e,i),t}();n.default=i},{}],2:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(){var t=function(){var t=Math.round(100/r*(s+=1));if(a.style.width="".concat(t),o.innerHTML="".concat(t),s===r)return e()},e=function(){n.style.opacity="0",setTimeout((function(){n.style.display="none",n.parentNode.removeChild(n)}),1500)},n=document.getElementById("loading"),a=document.getElementById("progress"),o=document.getElementById("progstat"),i=document.images,r=i.length,s=0;if(0===r)return e();for(var c=0;c<r;c++){var l=new Image;l.onload=t,l.onerror=t,l.src=i[c].src}};n.default=a},{}],3:[function(t,e,n){"use strict";var a=i(t("./loading")),o=i(t("./ImageMapCanvas"));function i(t){return t&&t.__esModule?t:{default:t}}document.addEventListener("DOMContentLoaded",(function(){(0,a.default)(),(new WOW).init(),jQuery("img.svg").each((function(){var t=jQuery(this),e=t.attr("id"),n=t.attr("class"),a=t.attr("src");jQuery.get(a,(function(a){var o=jQuery(a).find("svg");void 0!==e&&(o=o.attr("id",e)),void 0!==n&&(o=o.attr("class",n+" replaced-svg")),!(o=o.removeAttr("xmlns:a")).attr("viewBox")&&o.attr("height")&&o.attr("width")&&o.attr("viewBox","0 0 "+o.attr("height")+" "+o.attr("width")),t.replaceWith(o)}),"xml")})),$(".block-vote .list-vote").each((function(){var t=$(this);t.find(".item-vote").on("click",(function(){t.find(".item-vote").not(this).removeClass("checked"),$(this).addClass("checked"),$(".item-vote").each((function(){$(this).hasClass("checked")&&0}))}))})),$(".button-mobile").on("click",(function(){$(this).toggleClass("active"),$(this).parents("header").toggleClass("active"),$("body").toggleClass("disabled")})),$("body").on("click","#btn-vote",(function(t){if(6===$(".block-vote .list-vote .item-vote.checked").length){var e=document.getElementById("btn-vote").getAttribute("data-url");$.ajax({url:e,type:"POST",data:{},beforeSend:function(t){$(".index-4 #btn-vote").attr("disabled","disabled")},success:function(t){200===t.Code?$.fancybox.open({src:"#form-vote",type:"inline",opts:{hash:!1,closeExisting:!0}}):202===t.Code?($("#Form-Name").val("ABC"),$("#Form-Identity").val("123456"),$("#Form-Phone").val("0987654321"),$("#Form-Email").val("a@abc.com"),$("#form-vote #btn-submit").trigger("click")):($("#form-thank .desc").html(t.Messege),$.fancybox.open({src:"#form-thank",type:"inline",opts:{hash:!1,closeExisting:!0}}))},complete:function(t){$(".index-4 #btn-vote").removeAttr("disabled")}})}else $("#form-thank .desc").html("<p>Bạn chưa chọn bất kì hạng mục nào</p><p>Hoặc bạn chưa chọn đủ các hạng mục</p><p></p><p></p>"),$.fancybox.open({src:"#form-thank",type:"inline",opts:{hash:!1,closeExisting:!0}})})),$("body").on("click","#btn-submit",(function(t){var e=[],n=document.getElementById("btn-submit").getAttribute("data-url"),a=$("#Form-Name").val(),o=$("#Form-Identity").val(),i=$("#Form-Phone").val(),r=$("#Form-Email").val();$(".block-vote .list-vote").each((function(){var t=$(this).find(".item-vote.checked").attr("data-value");e.push(t)})),$.ajax({url:n,type:"POST",data:{Name:a,Identity:o,Phone:i,Email:r,Votes:e},success:function(t){$("#btn-submit").attr("disabled","disabled"),$("#form-thank .desc").html(t.Message),200===t.Code?($.fancybox.open({src:"#form-thank",type:"inline",opts:{hash:!1,closeExisting:!0}}),$(".item-vote").removeClass("checked")):alert(t.Message)},complete:function(){$("#btn-submit").removeAttr("disabled")}})})),function(){if("false"==$("#checkLogin").val()){$.fancybox.open({src:"#auto-login",type:"inline",opts:{hash:!1,closeExisting:!0}});var t=1,e=5,n=$("#auto-login").attr("url-redirect");$("#auto-login button[data-fancybox-close]").on("click",(function(){t=2})),setInterval((function(){e--,$("#auto-login .count").html(e),0===e&&1===t&&(window.location=n)}),1e3)}}(),new o.default(".index-5 .imageMapCanvas")})),window.addEventListener("scroll",(function(){}))},{"./ImageMapCanvas":1,"./loading":2}]},{},[3]);
//# sourceMappingURL=main.min.js.map
