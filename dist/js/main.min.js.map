{"version":3,"sources":["node_modules/browser-pack/_prelude.js","main.js","src/js/ImageMapCanvas.js","src/js/loading.js","src/js/main.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","_defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_defineProperty","obj","value","ImageMapCanvas","selector","_this","this","instance","Constructor","TypeError","_classCallCheck","canvasContext","clearRect","canvas","width","height","coords","coordsRef","split","coordsRef2","map","item","Number","regionLength","save","beginPath","moveTo","lineTo","closePath","stroke","fill","restore","arc","Math","PI","clientWidth","clientHeight","setAttribute","document","querySelector","getContext","mapImage","imageUrl","getAttribute","init","protoProps","staticProps","_this2","imageMapResize","style","backgroundImage","concat","classList","add","setSizeImageMapCanvas","window","addEventListener","clearImageMap","registerEvents","_this3","Array","from","querySelectorAll","forEach","mapArea","shape","strokeStyle","fillStyle","lineWidth","drawPolygon","drawCircle","_this4","area","infoMarker","preventDefault","createElement","innerHTML","getBoundingClientRect","top","size","left","innerWidth","offsetTop","parentNode","append","setTimeout","removeChild","remove","prototype","2","_default","progressing","round","imagesLength","counter","progress","progressStat","turnOffLoadingScreen","loading","opacity","display","getElementById","images","img","Image","onload","onerror","src","3","_loading","_interopRequireDefault","_ImageMapCanvas","__esModule","default","WOW","jQuery","each","$img","imgID","attr","imgClass","imgURL","get","data","$svg","find","removeAttr","replaceWith","$","on","not","removeClass","addClass","hasClass","flat","toggleClass","parents","url","ajax","type","beforeSend","success","res","Code","fancybox","open","opts","hash","closeExisting","val","trigger","html","Messege","complete","response","Votes","Name","Identity","Phone","Email","itemChecked","push","Message","alert","closed","_flat","url_redirect","setInterval","location","autoLogin","./ImageMapCanvas","./loading"],"mappings":"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","file":"main.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()",null,"export default class ImageMapCanvas {\r\n\r\n\tconstructor(selector) {\r\n\t\t// initialize value\r\n\t\tthis.selector = document.querySelector(selector);\r\n\t\tif (this.selector) {\r\n\t\t\tthis.map = this.selector.querySelector('map');\r\n\t\t\tthis.canvas = this.selector.querySelector('canvas');\r\n\t\t\tthis.canvasContext = this.canvas.getContext(\"2d\");\r\n\t\t\tthis.mapImage = this.selector.querySelector('img');\r\n\t\t\tthis.imageUrl = this.mapImage.getAttribute('src');\r\n\t\t}\r\n\r\n\t\t// Start plugins\r\n\t\tif (this.canvas) {\r\n\t\t\tthis.init();\r\n\t\t}\r\n\t}\r\n\r\n\tinit() {\r\n\t\timageMapResize();\r\n\t\tthis.canvas.style.backgroundImage = `url('${this.imageUrl}')`;\r\n\t\tthis.canvas.classList.add('background-added');\r\n\t\tthis.setSizeImageMapCanvas();\r\n\t\twindow.addEventListener('resize', () => {\r\n\t\t\tthis.clearImageMap();\r\n\t\t\tthis.setSizeImageMapCanvas();\r\n\t\t})\r\n\t\tthis.registerEvents();\r\n\t}\r\n\r\n\tclearImageMap = () => {\r\n\t\tthis.canvasContext.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n\t}\r\n\r\n\tdrawPolygon = (coords) => {\r\n\t\tconst coordsRef = coords.split(\",\");\r\n\t\tconst coordsRef2 = coordsRef.map(item => {\r\n\t\t\treturn Number(item) + 3;\r\n\t\t})\r\n\t\tconst regionLength = coordsRef.length;\r\n\t\tthis.canvasContext.save();\r\n\t\tthis.canvasContext.beginPath();\r\n\t\tthis.canvasContext.moveTo(coordsRef2[0], coordsRef2[1]);\r\n\t\tfor (let i = 0; i < regionLength; i++) {\r\n\t\t\tif (i % 2 == 0 && i > 1) {\r\n\t\t\t\tthis.canvasContext.lineTo(coordsRef2[i], coordsRef2[i + 1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.canvasContext.closePath();\r\n\t\tthis.canvasContext.stroke();\r\n\t\tthis.canvasContext.fill();\r\n\t\tthis.canvasContext.restore();\r\n\t}\r\n\r\n\tdrawCircle = (coords) => {\r\n\t\tconst coordsRef = coords.split(\",\");\r\n\t\tthis.canvasContext.save();\r\n\t\tthis.canvasContext.beginPath();\r\n\t\tthis.canvasContext.arc(coordsRef[0], coordsRef[1], coordsRef[2], 0, 2 * Math.PI);\r\n\t\tthis.canvasContext.closePath();\r\n\t\tthis.canvasContext.stroke();\r\n\t\tthis.canvasContext.fill();\r\n\t\tthis.canvasContext.restore();\r\n\t}\r\n\r\n\tregisterEvents() {\r\n\t\tArray.from(this.map.querySelectorAll('area')).forEach(mapArea => {\r\n\t\t\tmapArea.addEventListener('mouseover', () => {\r\n\t\t\t\tlet coords = mapArea.getAttribute('coords');\r\n\t\t\t\tlet shape = mapArea.getAttribute('shape');\r\n\t\t\t\tif (shape === 'poly') {\r\n\t\t\t\t\t// set style\r\n\t\t\t\t\tthis.canvasContext.strokeStyle = '#e8de8b';\r\n\t\t\t\t\tthis.canvasContext.fillStyle = 'rgba(7, 65, 76,.25)';\r\n\t\t\t\t\tthis.canvasContext.lineWidth = 5;\r\n\t\t\t\t\tthis.drawPolygon(coords);\r\n\t\t\t\t}\r\n\t\t\t\tif (shape === 'circle') {\r\n\t\t\t\t\t// set style\r\n\t\t\t\t\tthis.canvasContext.strokeStyle = 'rgba(7, 65, 76, 1)';\r\n\t\t\t\t\tthis.canvasContext.fillStyle = 'rgba(7, 65, 76, .35)';\r\n\t\t\t\t\tthis.canvasContext.lineWidth = 3;\r\n\t\t\t\t\tthis.drawCircle(coords);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tmapArea.addEventListener('mouseout', () => {\r\n\t\t\t\tthis.clearImageMap();\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\tsetSizeImageMapCanvas = () => {\r\n\t\tconst width = this.canvas.clientWidth;\r\n\t\tconst height = this.canvas.clientHeight;\r\n\t\tthis.canvas.setAttribute('width', width);\r\n\t\tthis.canvas.setAttribute('height', height);\r\n\t}\r\n\r\n\tcustomLabel() {\r\n\t\tif (this.selector) {\r\n\t\t\tArray.from(this.map.querySelectorAll('area')).forEach(area => {\r\n\t\t\t\tlet infoMarker;\r\n\t\t\t\tarea.addEventListener('click', e => {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t})\r\n\t\t\t\tarea.addEventListener('mouseenter', e => {\r\n\t\t\t\t\tinfoMarker = document.createElement('div');\r\n\t\t\t\t\tinfoMarker.classList.add('info-marker');\r\n\t\t\t\t\tinfoMarker.innerHTML = `<div class=\"img\"><img src=\"${area.getAttribute('href')}\" /></div><div class=\"text\">${area.getAttribute('title')}</div>`;\r\n\t\t\t\t\tconst offsetTop = this.canvas.getBoundingClientRect().top;\r\n\t\t\t\t\tconst coordsRef = area.getAttribute('coords').split(',');\r\n\t\t\t\t\tconst size = Number(coordsRef[2]);\r\n\t\t\t\t\tconst top = Number(coordsRef[1]);\r\n\t\t\t\t\tconst left = Number(coordsRef[0]);\r\n\t\t\t\t\tif (left - (size * 0.95) + 50 <= Number(window.innerWidth - 450 - 60)) {\r\n\t\t\t\t\t\tinfoMarker.setAttribute('style', `\r\n\t\t\t\t\t\t\tmargin-left: 25px;\r\n\t\t\t\t\t\t\ttransform-origin: 0 0;\r\n\t\t\t\t\t\t\ttop: ${top - size + this.selector.offsetTop}px;\r\n\t\t\t\t\t\t\tleft: ${left}px;\r\n\t\t\t\t\t\t`);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tinfoMarker.setAttribute('style', `\r\n\t\t\t\t\t\t\tmargin-right: 25px;\r\n\t\t\t\t\t\t\ttransform-origin: 100% 0;\r\n\t\t\t\t\t\t\ttop: ${top - size + this.selector.offsetTop}px;\r\n\t\t\t\t\t\t\tright: ${this.canvas.clientWidth - left}px;\r\n\t\t\t\t\t\t`);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdocument.querySelector('body').parentNode.append(infoMarker);\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tinfoMarker.classList.add('active');\r\n\t\t\t\t\t}, 150);\r\n\t\t\t\t});\r\n\t\t\t\tarea.addEventListener('mouseout', e => {\r\n\t\t\t\t\tinfoMarker.parentNode.removeChild(infoMarker);\r\n\t\t\t\t\tinfoMarker.classList.remove('active');\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}","const Loading = () => {\r\n\tconst progressing = () => {\r\n\t\tlet n = Math.round(100 / imagesLength * (counter += 1));\r\n\t\tif (progress.style.width = `${n}`, progressStat.innerHTML = `${n}`, counter === imagesLength) {\r\n\t\t\treturn turnOffLoadingScreen();\r\n\t\t}\r\n\t};\r\n\r\n\tconst turnOffLoadingScreen = () => {\r\n\t\tloading.style.opacity = '0';\r\n\t\tsetTimeout(function() {\r\n\t\t\tloading.style.display = 'none';\r\n\t\t\tloading.parentNode.removeChild(loading);\r\n\t\t}, 1500)\r\n\t}\r\n\r\n\tlet loading = document.getElementById('loading');\r\n\tlet progress = document.getElementById('progress');\r\n\tlet progressStat = document.getElementById('progstat');\r\n\tlet images = document.images;\r\n\tlet imagesLength = images.length;\r\n\tlet counter = 0;\r\n\r\n\tif (imagesLength === 0) {\r\n\t\treturn turnOffLoadingScreen();\r\n\t} else {\r\n\t\tfor (let i = 0; i < imagesLength; i++) {\r\n\t\t\tlet img = new Image;\r\n\t\t\timg.onload = progressing;\r\n\t\t\timg.onerror = progressing;\r\n\t\t\timg.src = images[i].src\r\n\t\t}\r\n\t}\r\n};\r\n\r\nexport default Loading;","// import here !!!\r\nimport loading from './loading';\r\nimport ImageMapCanvas from \"./ImageMapCanvas\";\r\n\r\n// Script Cho Tab\r\nclass Tab {\r\n\tselector;\r\n\ttitleList;\r\n\tcontentList;\r\n\r\n\tconstructor(selector) {\r\n\t\tthis.selector = document.querySelector(selector);\r\n\t\tif (this.selector) {\r\n\t\t\tthis.titleList = this.selector.querySelectorAll(\"[toggle-for]\")\r\n\t\t\tthis.contentList = this.selector.querySelectorAll(\"[tab-id]\")\r\n\t\t\tthis.init();\r\n\t\t}\r\n\t}\r\n\r\n\trunTabWhenClicked() {\r\n\t\tArray.prototype.forEach.call(this.titleList, (element, index) => {\r\n\t\t\telement.addEventListener(\"click\", e => {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tconst tabTarget = element.attributes[\"toggle-for\"].value;\r\n\t\t\t\tconst targetDOM = this.selector.querySelector(`[tab-id='${tabTarget}']`);\r\n\t\t\t\telement.classList.add(\"active\");\r\n\t\t\t\tArray.prototype.forEach.call(this.titleList, (eleClicked, eleClickedIndex) => {\r\n\t\t\t\t\tif (eleClickedIndex != index) {\r\n\t\t\t\t\t\teleClicked.classList.remove(\"active\")\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tArray.prototype.forEach.call(this.contentList, (tabContentElement) => {\r\n\t\t\t\t\tif (tabContentElement.attributes[\"tab-id\"].value != tabTarget) {\r\n\t\t\t\t\t\ttabContentElement.style.display = \"none\"\r\n\t\t\t\t\t\ttabContentElement.classList.remove(\"show\")\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\ttargetDOM.style.display = \"block\",\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\ttargetDOM.classList.add(\"show\")\r\n\t\t\t\t\t}, 50);\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\tactiveFirstTab() {\r\n\t\tthis.titleList[0].click();\r\n\t}\r\n\r\n\tinit() {\r\n\t\tthis.runTabWhenClicked();\r\n\t\tthis.activeFirstTab();\r\n\t}\r\n}\r\n\r\n// CONTROL SVG\r\nconst SVG = () => {\r\n\tjQuery('img.svg').each(function() {\r\n\t\tvar $img = jQuery(this);\r\n\t\tvar imgID = $img.attr('id');\r\n\t\tvar imgClass = $img.attr('class');\r\n\t\tvar imgURL = $img.attr('src');\r\n\r\n\t\tjQuery.get(imgURL, function(data) {\r\n\t\t\t// Get the SVG tag, ignore the rest\r\n\t\t\tvar $svg = jQuery(data).find('svg');\r\n\r\n\t\t\t// Add replaced image's ID to the new SVG\r\n\t\t\tif (typeof imgID !== 'undefined') {\r\n\t\t\t\t$svg = $svg.attr('id', imgID);\r\n\t\t\t}\r\n\t\t\t// Add replaced image's classes to the new SVG\r\n\t\t\tif (typeof imgClass !== 'undefined') {\r\n\t\t\t\t$svg = $svg.attr('class', imgClass + ' replaced-svg');\r\n\t\t\t}\r\n\r\n\t\t\t// Remove any invalid XML tags as per http://validator.w3.org\r\n\t\t\t$svg = $svg.removeAttr('xmlns:a');\r\n\r\n\t\t\t// Check if the viewport is set, if the viewport is not set the SVG wont't scale.\r\n\t\t\tif (!$svg.attr('viewBox') && $svg.attr('height') && $svg.attr('width')) {\r\n\t\t\t\t$svg.attr('viewBox', '0 0 ' + $svg.attr('height') + ' ' + $svg.attr('width'))\r\n\t\t\t}\r\n\r\n\t\t\t// Replace image with new SVG\r\n\t\t\t$img.replaceWith($svg);\r\n\r\n\t\t}, 'xml');\r\n\t});\r\n}\r\n\r\nfunction mobileMenu() {\r\n\t$('.button-mobile').on('click', function() {\r\n\t\t$(this).toggleClass('active');\r\n\t\t$(this).parents('header').toggleClass('active');\r\n\t\t$('body').toggleClass('disabled');\r\n\t});\r\n}\r\n\r\nvar flat = 0;\r\n\r\nfunction checkItem() {\r\n\t$('.block-vote .list-vote').each(function() {\r\n\r\n\t\tlet _this = $(this);\r\n\r\n\t\t_this.find('.item-vote').on('click', function() {\r\n\r\n\t\t\t_this.find('.item-vote').not(this).removeClass('checked')\r\n\t\t\t$(this).addClass('checked');\r\n\r\n\t\t\t$('.item-vote').each(function() {\r\n\t\t\t\tif ($(this).hasClass('checked')) {\r\n\t\t\t\t\tflat++;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t});\r\n\t})\r\n}\r\n\r\nconst checkCodeLogin = () => {\r\n\t$('body').on('click', '#btn-vote', function(e) {\r\n\t\t// LẤY SỐ LƯỢNG ITEM ĐÃ ĐƯỢC CHECK\r\n\t\tconst voteCount = $('.block-vote .list-vote .item-vote.checked').length;\r\n\t\tif (voteCount === 6) {\r\n\t\t\tconst url = document.getElementById('btn-vote').getAttribute('data-url');\r\n\t\t\t$.ajax({\r\n\t\t\t\turl: url,\r\n\t\t\t\ttype: 'POST',\r\n\t\t\t\tdata: {},\r\n\t\t\t\tbeforeSend: function(e) {\r\n\t\t\t\t\t$('.index-4 #btn-vote').attr('disabled', 'disabled')\r\n\t\t\t\t},\r\n\t\t\t\t// TEST\r\n\t\t\t\t// error: function() {\r\n\t\t\t\t// \tlet resCode = 202;\r\n\t\t\t\t// \tlet resMessege = '<p>Bạn chưa đăng nhập.</p><p>Bạn vui lòng đăng nhập để tham gia sự kiện</p><p></p><p></p>';\r\n\t\t\t\t// \tif (resCode === 200) {\r\n\t\t\t\t// \t\t$.fancybox.open({\r\n\t\t\t\t// \t\t\tsrc: '#form-vote',\r\n\t\t\t\t// \t\t\ttype: 'inline',\r\n\t\t\t\t// \t\t\topts: {\r\n\t\t\t\t// \t\t\t\thash: false,\r\n\t\t\t\t// \t\t\t\tcloseExisting: true,\r\n\t\t\t\t// \t\t\t}\r\n\t\t\t\t// \t\t})\r\n\t\t\t\t// \t} else if (resCode === 202) {\r\n\r\n\t\t\t\t// \t\t$('#Form-Name').val('ABC');\r\n\t\t\t\t// \t\t$('#Form-Identity').val('123456');\r\n\t\t\t\t// \t\t$('#Form-Phone').val('0987654321');\r\n\t\t\t\t// \t\t$('#Form-Email').val('a@abc.com');\r\n\t\t\t\t// \t\t$('#form-vote #btn-submit').trigger('click');\r\n\r\n\t\t\t\t// \t} else {\r\n\t\t\t\t// \t\t$('#form-thank .desc').html(resMessege);\r\n\t\t\t\t// \t\t$.fancybox.open({\r\n\t\t\t\t// \t\t\tsrc: '#form-thank',\r\n\t\t\t\t// \t\t\ttype: 'inline',\r\n\t\t\t\t// \t\t\topts: {\r\n\t\t\t\t// \t\t\t\thash: false,\r\n\t\t\t\t// \t\t\t\tcloseExisting: true,\r\n\t\t\t\t// \t\t\t}\r\n\t\t\t\t// \t\t});\r\n\t\t\t\t// \t}\r\n\t\t\t\t// },\r\n\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\tif (res.Code === 200) {\r\n\t\t\t\t\t\t$.fancybox.open({\r\n\t\t\t\t\t\t\tsrc: '#form-vote',\r\n\t\t\t\t\t\t\ttype: 'inline',\r\n\t\t\t\t\t\t\topts: {\r\n\t\t\t\t\t\t\t\thash: false,\r\n\t\t\t\t\t\t\t\tcloseExisting: true,\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else if (res.Code === 202) {\r\n\t\t\t\t\t\t$('#Form-Name').val('ABC');\r\n\t\t\t\t\t\t$('#Form-Identity').val('123456');\r\n\t\t\t\t\t\t$('#Form-Phone').val('0987654321');\r\n\t\t\t\t\t\t$('#Form-Email').val('a@abc.com');\r\n\t\t\t\t\t\t$('#form-vote #btn-submit').trigger('click');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$('#form-thank .desc').html(res.Messege);\r\n\t\t\t\t\t\t$.fancybox.open({\r\n\t\t\t\t\t\t\tsrc: '#form-thank',\r\n\t\t\t\t\t\t\ttype: 'inline',\r\n\t\t\t\t\t\t\topts: {\r\n\t\t\t\t\t\t\t\thash: false,\r\n\t\t\t\t\t\t\t\tcloseExisting: true,\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tcomplete: function(response) {\r\n\t\t\t\t\t$('.index-4 #btn-vote').removeAttr('disabled')\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\t$('#form-thank .desc').html('<p>Bạn chưa chọn bất kì hạng mục nào</p><p>Hoặc bạn chưa chọn đủ các hạng mục</p><p></p><p></p>');\r\n\t\t\t$.fancybox.open({\r\n\t\t\t\tsrc: '#form-thank',\r\n\t\t\t\ttype: 'inline',\r\n\t\t\t\topts: {\r\n\t\t\t\t\thash: false,\r\n\t\t\t\t\tcloseExisting: true,\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t})\r\n\r\n\t$('body').on('click', '#btn-submit', function(e) {\r\n\t\tconst Votes = [];\r\n\t\tconst url = document.getElementById('btn-submit').getAttribute('data-url');\r\n\t\tconst Name = $('#Form-Name').val();\r\n\t\tconst Identity = $('#Form-Identity').val();\r\n\t\tconst Phone = $('#Form-Phone').val();\r\n\t\tconst Email = $('#Form-Email').val();\r\n\r\n\t\t$('.block-vote .list-vote').each(function() {\r\n\t\t\tlet itemChecked = $(this).find('.item-vote.checked').attr('data-value');\r\n\t\t\tVotes.push(itemChecked)\r\n\t\t})\r\n\r\n\t\t$.ajax({\r\n\t\t\turl: url,\r\n\t\t\ttype: 'POST',\r\n\t\t\tdata: {\r\n\t\t\t\tName: Name,\r\n\t\t\t\tIdentity: Identity,\r\n\t\t\t\tPhone: Phone,\r\n\t\t\t\tEmail: Email,\r\n\t\t\t\tVotes: Votes,\r\n\t\t\t},\r\n\t\t\t// TEST\r\n\t\t\t// error: function(err) {\r\n\t\t\t// \tlet resCode = 200;\r\n\t\t\t// \tlet resMessage = \"Sai rồi\"\r\n\t\t\t// \tif (resCode === 200) {\r\n\t\t\t// \t\t$('#form-thank .desc').html('<p>CẢM ƠN BẠN ĐÃ THAM GIA BÌNH CHỌN</p><p>CHO THẦN TƯỢNG CỦA MÌNH TẠI VLIVE AWARDS</p><p>Bạn đã hết lượt bình chọn hôm nay.</p><p>Bạn có thể tiếp tục vote từ 00:00 ngày mai.</p>');\r\n\t\t\t// \t\t$.fancybox.open({\r\n\t\t\t// \t\t\tsrc: '#form-thank',\r\n\t\t\t// \t\t\ttype: 'inline',\r\n\t\t\t// \t\t\topts: {\r\n\t\t\t// \t\t\t\thash: false,\r\n\t\t\t// \t\t\t\tcloseExisting: true,\r\n\t\t\t// \t\t\t}\r\n\t\t\t// \t\t});\r\n\t\t\t// \t} else {\r\n\t\t\t// \t\talert(resMessage)\r\n\t\t\t// \t}\r\n\t\t\t// },\r\n\t\t\tsuccess: function(res) {\r\n\t\t\t\t$('#btn-submit').attr('disabled', 'disabled');\r\n\t\t\t\t$('#form-thank .desc').html(res.Message);\r\n\t\t\t\tif (res.Code === 200) {\r\n\t\t\t\t\t$.fancybox.open({\r\n\t\t\t\t\t\tsrc: '#form-thank',\r\n\t\t\t\t\t\ttype: 'inline',\r\n\t\t\t\t\t\topts: {\r\n\t\t\t\t\t\t\thash: false,\r\n\t\t\t\t\t\t\tcloseExisting: true,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t$('.item-vote').removeClass('checked');\r\n\t\t\t\t} else {\r\n\t\t\t\t\talert(res.Message)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcomplete: function() {\r\n\t\t\t\t$('#btn-submit').removeAttr('disabled')\r\n\t\t\t}\r\n\t\t})\r\n\t})\r\n}\r\n\r\nfunction autoLogin() {\r\n\r\n\tlet checkLogin = $('#checkLogin').val();\r\n\r\n\tif (checkLogin == 'false') {\r\n\t\t$.fancybox.open({\r\n\t\t\tsrc: '#auto-login',\r\n\t\t\ttype: 'inline',\r\n\t\t\topts: {\r\n\t\t\t\thash: false,\r\n\t\t\t\tcloseExisting: true,\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tlet closed = 1;\r\n\t\tlet flat = 5;\r\n\t\tconst url_redirect = $('#auto-login').attr('url-redirect');\r\n\r\n\t\t$('#auto-login button[data-fancybox-close]').on('click', function() {\r\n\t\t\tclosed = 2;\r\n\t\t})\r\n\r\n\t\tsetInterval(() => {\r\n\t\t\tflat--\r\n\t\t\t$('#auto-login .count').html(flat);\r\n\r\n\t\t\tif (flat === 0 && closed === 1) {\r\n\t\t\t\twindow.location = url_redirect;\r\n\t\t\t}\r\n\t\t}, 1000);\r\n\t}\r\n}\r\n\r\n// CHẠY KHI DOCUMENT SẴN SÀNG\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n\t// LOADING\r\n\tloading();\r\n\t// WOW\r\n\tnew WOW().init();\r\n\t// SVG CONTROL\r\n\tSVG();\r\n\tcheckItem();\r\n\tmobileMenu();\r\n\tcheckCodeLogin();\r\n\tautoLogin();\r\n\tnew ImageMapCanvas('.index-5 .imageMapCanvas')\r\n});\r\n\r\n// CHẠY KHI WINDOWN SCROLL\r\nwindow.addEventListener('scroll', () => {\r\n\t// ACTIVE HEADER WHEN SCROLL\r\n})"]}